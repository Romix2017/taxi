@using Taxi.Models;
@model ViewModelHome

@{
    ViewBag.Title = "Home Page";

}



<script type="text/javascript">
    window.onload = function () {
      
       ymaps.ready(init);

        function init() {

            mapComponent.init({
                mapID: "map", routeBut: $("#routeBtn"), pointAinside: $("#pointA"), pointBinside: $("#pointB"), priceFor1km: 8,
                modalError: $("#myModalError"), orderBut: $("#orderBtn"), modalSendOrder: $("#myModalSendOrder"),
                phoneNumberBox: $("#phoneNumber"), sendOrderBut: $("#sendOrder"), isAuthenticated: '@Model.isAuthenticated.ToString().ToLower()', phoneNumber: '@Model.userPhone'

            })
        }

       
       

    };

  

</script>

<div class="jumbotron">

    <h2>Заказ такси</h2>

    <form class="mainForm">
        <div class="tx-dropdown-menu" id="dropdown"></div>
        <div class="form-group">
            <label for="pointA">Откуда</label>
            <input type="text" class="form-control" id="pointA">
        </div>
        <div class="form-group">
            <label for="pointB">Куда</label>
            <input type="text" class="form-control" id="pointB">
        </div>
       

        <div class="infoOrder"><div class="distance"></div><div class="price"></div></div>
        <input type="button" value="Заказать" class="btn btn-success" id="orderBtn">
        
    </form>
    <div id="map"></div>



</div>
<!-- Modal error -->
<div id="myModalError" class="modal fade" role="dialog">
    <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Ошибка</h4>
            </div>
            <div class="modal-body">
                <p>При построении маршрута возникла ошибка</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Ок</button>
            </div>
        </div>

    </div>
</div>
<!-- end Modal error-->
<!-- Modal user phone -->
<div id="myModalSendOrder" class="modal fade" role="dialog">
    <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Введите Ваш номер</h4>
            </div>
            <div class="modal-body">
                <div class="form-group">
                   
                    <input type="text" class="form-control" id="phoneNumber">
                    <div class="alert alert-danger collapse sendOrderError">
                        Возникла ошибка, попробуйте еще раз
                    </div>
                    <div class="alert alert-danger collapse emptyPhone">
                         Заполните поле!
                    </div>

                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Отмена</button>
                <button type="button" id="sendOrder" class="btn btn-success">Ок</button>
             
            </div>
        </div>

    </div>
</div>
<!-- end Modal user phone-->

